<div class="progress-wrap" id="progress-wrap">
	<svg id="to-top-chevron" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-chevron-up" viewBox="0 0 15 15">
		<path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z" />
	</svg>

	<svg id="page-progress-circle" class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
		<path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98" />
	</svg>
</div>

<script>
	
	window.addEventListener('DOMContentLoaded', () => {
		var progressPath = document.querySelector('#page-progress-circle path');
		var pathLength = progressPath.getTotalLength();

		progressPath.style.transition = progressPath.style.WebkitTransition = 'none';
		progressPath.style.strokeDasharray = pathLength + ' ' + pathLength;
		progressPath.style.strokeDashoffset = pathLength;
		progressPath.getBoundingClientRect();
		progressPath.style.transition = progressPath.style.WebkitTransition = 'stroke-dashoffset 10ms linear';		

		var updateProgress = function () {
			var body = document.body,
				html = document.documentElement;

			var scroll = window.scrollY;
			var height = Math.max( body.scrollHeight, body.offsetHeight,
				html.clientHeight, html.scrollHeight, html.offsetHeight) - window.innerHeight;
			var progress = pathLength - (scroll * pathLength / height);
			progressPath.style.strokeDashoffset = progress;
		}
		updateProgress();

		window.addEventListener('scroll', updateProgress);

		var offset = 50;
		var duration = 550;

		window.addEventListener('scroll', function() {
			console.log(window.scrollY)

			if (window.scrollY > offset) {
				document.getElementById("progress-wrap").classList.add('active-progress');
			} else {
				document.getElementById("progress-wrap").classList.remove('active-progress');
			}
		});
  
		function topFunction(event) {
			event.preventDefault();
			document.body.scrollTop = 0; // For Safari
			document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
			return false;
		}
  
		document.getElementById("progress-wrap").addEventListener("click", topFunction);
	});
</script>